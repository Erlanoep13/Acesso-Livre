<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AcessoLivre</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Migra√ß√µes locais -->
  <link rel="icon" href="IMGs/AcessoLivre.png">
  <link rel="stylesheet" href="CSS/Style.css">
</head>

<body class="bg-green-900">

  <!-- Header-->
  <header>
    <!-- Navbar -->
    <nav class="bg-green-800 p-4 flex justify-between items-center text-white">
      <button id="menuButton">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
      <h1 class="text-xl font-bold"><a href="index.html">AcessoLivre</a></h1>


      <a href="index.html"><img src="IMGs/AcessoLivre.png" alt="Logo" class="w-8 h-8 rounded-full"></a>

    </nav>

    <!-- Menu Lateral -->
    <div id="sideMenu"
      class="fixed top-0 left-0 h-full w-64 bg-gray-100 text-black transform -translate-x-full transition-transform duration-200 ease-in-out shadow-lg z-50">
      <div class="p-4 border-b flex items-center justify-between">
        <h2 class="font-bold text-lg">AcessoLivre</h2>
        <button id="closeMenu" class="text-gray-600">&times;</button>
      </div>

      <ul class="p-4 space-y-3">
        <li class="flex items-center gap-2 cursor-pointer hover:text-green-700">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
          <a href="pesquisar.html"><a href="index.html">Pesquisar</a></a>
        </li>
        <li class="flex items-center gap-2 cursor-pointer hover:text-green-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
          </svg>
          <a href="index.html">Favoritos</a>
        </li>
        <li class="flex items-center gap-2 cursor-pointer hover:text-green-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
          </svg>
          <a href="login.html">Login</a>
        </li>
        <hr>
        <li class="flex items-center gap-2 cursor-pointer hover:text-green-700">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
          </svg>
          <a href="criarConta.html">Cria Conta</a>
        </li>
      </ul>
    </div>
  </header>

  <!-- Conte√∫do principal MAIN -->
  <main class="flex items-center justify-center min-h-screen" style="margin-top: 20px;">

    <section class="w-[90%] max-w-md bg-white rounded-2xl p-4 shadow-lg">

      <!-- Formul√°rio -->
      <form id="form-adicionar-local" class="space-y-4">

        <!-- Coordenadas -->
        <div>
          <label class="block text-sm font-medium">Coordenadas:</label>
          <input type="text" id="coordenadas"
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required />
        </div>

        <!-- Nome do Local -->
        <div>
          <label class="block text-sm font-medium">Nome do Local:</label>
          <input type="text" id="nome_local" placeholder="Ex: Escola..."
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required />
        </div>

        <!-- Localiza√ß√£o -->
        <div>
          <label class="block text-sm font-medium">Localiza√ß√£o:</label>
          <input type="text" id="localizacao" placeholder="Ex: Centro, Rua 26 de Junho, 128"
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required />
        </div>

        <!-- Tipo de Acessibilidade -->
        <div>
          <label class="block text-sm font-medium">Tipo de Acessibilidade:</label>
          <select id="tipo_acessibilidade"
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required>
            <option>Motora</option>
            <option>Visual</option>
            <option>Ambas</option>
            <option>Sugest√£o de melhoria</option>
          </select>
        </div>

        <!-- Categoria do Local -->
        <div>
          <label class="block text-sm font-medium">Categoria do Local:</label>
          <input type="text" id="categoria" placeholder="Ex: Educa√ß√£o, Sa√∫de..."
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required />
        </div>

        <!-- Recursos -->
        <div>
          <label class="block text-sm font-medium">Recursos de Acessibilidade Presentes:</label>
          <input type="text" id="recursos" placeholder="Ex: Rampas, Braille..."
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required />
        </div>

        <!-- Adicionar Foto -->
        <div>
          <label class="block text-sm font-medium">Adicionar Foto (Opcional)</label>
          <div class="flex items-center space-x-2 mt-1">
            <input type="file" accept="image/*" class="file:hidden w-full" id="upload">
            <label for="upload"
              class="cursor-pointer flex items-center px-3 py-2 bg-gray-200 rounded-md hover:bg-gray-300 text-sm">
              üì∑ Anexar Foto
            </label>
          </div>
        </div>

        <!-- Descri√ß√£o -->
        <div>
          <label class="block text-sm font-medium">Descri√ß√£o:</label>
          <textarea rows="4" id="descricao" placeholder="..."
            class="mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring focus:ring-green-400"
            required></textarea>
        </div>

        <!-- Bot√£o -->
        <button type="submit" id="btnSalvarLocal" class="w-full bg-green-500 text-white py-2 rounded-md hover:bg-green-600 transition">
          Salvar Local
        </button>

        <!-- Mensagens -->
        <div id="mensagemLocal" class="mt-2 text-center text-sm"></div>
      </form>

    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-green-800 text-white mt-8">
    <div class="max-w-screen-xl mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center">

      <div class="mb-4 md:mb-0">
        <h2 class="text-lg font-bold">AcessoLivre</h2>
        <p class="text-sm">Facilitando acessibilidade na sua cidade</p>
      </div>

      <div class="flex space-x-4">
        <a href="sobre.html" class="hover:underline">Sobre</a>
        <a href="contato.html" class="hover:underline">Contato</a>
      </div>
    </div>

    <div class="text-center py-2 text-xs">
      ¬© 2025 AcessoLivre. Todos os direitos reservados.
    </div>
  </footer>


  <!-- Scripts -->
  <script src="JS/script.js"></script>
  <script src="JS/conexaoLocal.js"></script>


  <!-- Recebendo valores dos locais -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);

      // Se existir "nome", assumimos que √© edi√ß√£o
      if (urlParams.get("nome")) {
        document.querySelector('input[placeholder="Ex: Escola..."]').value = urlParams.get("nome") || "";
        document.querySelector('input[placeholder="Ex: Centro, Rua 26 de Junho, 128"]').value = urlParams.get("localizacao") || "";
        document.querySelector("select").value = urlParams.get("tipoAcessibilidade") || "Motora";
        document.querySelector('input[placeholder="Ex: Educa√ß√£o, Sa√∫de..."]').value = urlParams.get("categoria") || "";
        document.querySelector('input[placeholder="Ex: Rampas, Braille..."]').value = urlParams.get("recursos") || "";
        document.querySelector("textarea").value = urlParams.get("descricao") || "";
        document.getElementById("coordenadas").value = urlParams.get("coordenadas") || "";

        // Foto opcional (aqui s√≥ mostramos o nome do arquivo se existir)
        if (urlParams.get("foto")) {
          const labelFoto = document.querySelector('label[for="upload"]');
          labelFoto.textContent = `üì∑ Foto atual: ${urlParams.get("foto").split('/').pop()}`;
        }
      } else {
        // Modo "adicionar" normal (mant√©m coordenadas se vierem)
        const lat = urlParams.get("lat");
        const lng = urlParams.get("lng");
        if (lat && lng) {
          document.getElementById("coordenadas").value = `${lat}, ${lng}`;
        }
      }
    });
  </script>


</body>

</html>