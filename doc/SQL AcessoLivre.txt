CREATE TABLE usuario (
    chave_user INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nome VARCHAR(50) NOT NULL
);


CREATE TABLE locais (
    id_local INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nome_local VARCHAR(85) NOT NULL,
    tipo_acessibilidade VARCHAR(30) NOT NULL,
    categoria VARCHAR(30) NOT NULL,
    imagem TEXT,
    descricao TEXT,
    localizacao VARCHAR(30) NOT NULL,
    latitude DECIMAL(9,6) NOT NULL,
    longitude DECIMAL(9,6) NOT NULL,
    chave_user INT NOT NULL,
    FOREIGN KEY (chave_user) REFERENCES usuario(chave_user)
);


CREATE TABLE recursos (
    id_recurso INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nome_recurso VARCHAR(60) NOT NULL

);


CREATE TABLE localrecursos (
    id_local INT NOT NULL,
    id_recurso INT NOT NULL,
	PRIMARY KEY (id_local, id_recurso),
	FOREIGN KEY (id_local) REFERENCES locais(id_local),
	FOREIGN KEY (id_recurso) REFERENCES recursos(id_recurso)
);


CREATE TABLE favoritos (
    chave_user INT NOT NULL,
    id_local INT NOT NULL,
	PRIMARY KEY (chave_user, id_local),
	FOREIGN KEY (id_local) REFERENCES locais(id_local),
	FOREIGN KEY (chave_user) REFERENCES usuario(chave_user)
);
